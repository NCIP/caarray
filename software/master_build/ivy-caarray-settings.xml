<!--
This file is the is the settings file used by Ivy for caArray build dependencies. When configuring the
IvyDE plugin for eclipse, you should point it at ivy-caarray-settings-eclipse.xml instead.

The settings define two resolvers:
  1) An ncicb-ivy-repo resolver points to the NCICB Ivy Repository
  2) Another resolver points to a local filesystem repository where temporary artifacts can be published as part
     of a project or where you can test out your ivy definitions before they are added to official NCICB Ivy Repository.
     This can also be used to speed up builds and make it possible to do builds offline.

The local resolver looks for the ivy repo in ${local.repo.dir}. This is set to a default value in build/default.properties,
and can be overridden via local.properties or -D on the ant command line.
-->

<ivysettings>
    <settings defaultResolver="ncicb-chain"/>
    <property name="ivy-bda.local.repo" value="${software.dir}/caarray-bda/ivy-repo"/>
    <property name="tmp.local.repo" value="${software.dir}/tmp.local.ivy.repo"/>
    <!-- defaultCacheDir causes the caarray to use it's own ivy cache directory -->
    <!-- useOrigin=true doesn't copy artifacts to the cache, useOrigin=false does -->
    <caches defaultCacheDir="${ivy.settings.dir}/.ivy2-caarray-cache" useOrigin="false"/>
    <resolvers>
        <!-- this is where you read from -->
        <chain name="ncicb-chain">
            <!-- this is the local repository, in case don't have network access, or trying new modules -->
            <filesystem name="local-repo" local="true" checkmodified="false">
                <artifact pattern="${local.repo.dir}/[organisation]/[module]/[revision]/[artifact]-[revision].[ext]"/>
                <ivy pattern="${local.repo.dir}/[organisation]/[module]/[revision]/ivy.xml"/>
            </filesystem>
            <filesystem name="ivy-bda.repo" local="true">
                <artifact pattern="${ivy-bda.local.repo}/[organisation]/[module]/[revision]/[artifact]-[revision].[ext]" />
                <ivy pattern="${ivy-bda.local.repo}/[organisation]/[module]/[revision]/ivy.xml"/>
            </filesystem>
            <filesystem name="tmp.local.repo" local="true">
                <artifact pattern="${tmp.local.repo}/[organisation]/[module]/[revision]/[artifact]-[revision].[ext]" />
                <ivy pattern="${tmp.local.repo}/[organisation]/[module]/[revision]/ivy.xml"/>
            </filesystem>
            <url name="ncicb-ivy-repo">
                <artifact pattern="https://ncisvn.nci.nih.gov/svn/deprecated-ivy-repo/trunk/[organisation]/[module]/[revision]/[artifact]-[revision].[ext]"/>
                <ivy pattern="https://ncisvn.nci.nih.gov/svn/deprecated-ivy-repo/trunk/[organisation]/[module]/[revision]/ivy.xml"/>
            </url>
            <url name="cbiit-ivy-repo">
                <!-- remote enterprise repository -->
                <artifact pattern="https://ncisvn.nci.nih.gov/svn/deprecated-cbiit-ivy-repo/trunk/[organisation]/[module]/[revision]/[artifact]-[revision].[ext]" />
                <ivy pattern="https://ncisvn.nci.nih.gov/svn/deprecated-cbiit-ivy-repo/trunk/[organisation]/[module]/[revision]/ivy.xml" />
            </url>
            <ibiblio name="nexus-repo-public" m2compatible="true" root="https://ncimvn.nci.nih.gov/nexus/content/repositories/public"
            pattern="[organisation]/[module]/[revision]/[artifact]-[revision].[ext]"/>
        </chain>
    </resolvers>
</ivysettings>
