<?xml version="1.0" encoding="iso-8859-1"?>
  <project name="mysql-build" default="all" basedir=".">

<!--
 <target name="start-db">
		<ant inheritAll="true" inheritRefs="true" antfile="${basedir}/build/database-integration.xml" target="all" />
	</target>
-->

	<target name="all" >
	  <antcall target="db:create-database"/>
	</target>

	<dependset>
	  <srcfilelist dir="${basedir}" files="${environment}.properties, default.properties"/>
	  <targetfileset dir="${filtered.sql.dir}"/>
	</dependset>

    <path id="db.lib.path">
	  <pathelement location="." />
	  <pathelement location="${lib.dir}/mysql-connector-java-5.0.5-bin.jar" />
	</path>

    <target name="db:create-database">
	  <echo>Creating tables...</echo>
	  <sql driver="${db.driver}"
   	    url="${db.url}"
	    userid="${database.system.user}"
	    password="${database.system.password}"
	    classpathref="db.lib.path"
	    delimiter=";">
	    <fileset file="${database.dir}/create_database_and_user.sql"/>
	    <fileset file="${database.dir}/caarray_ddl.sql"/>
	  </sql>
	</target>

	<target name="db:insert-data">
		<echo>Inserting data...</echo>		
	</target>	

	<target name="db:run-mysql" description="--> Launch DB Vendor command line tool">
	  <exec executable="cmd.exe" spawn="true">
	    <arg line="/C start mysql.exe --host=${database.server} --user=${database.user} --password=${database.password}"/>
	  </exec>
	</target>

</project>